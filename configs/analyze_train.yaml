---
paths:
  runs_root: "runs"
  run_id: "20260130_215506_ee534729"

core:
  train_log: "train.jsonl"
  metrics_log: "metrics.jsonl"

strict:
  max_bad_lines: 0          # default: 0 (any bad line => raise)
  require_step_axis: true   # if we cannot infer x-axis => raise

analysis:
  enabled: true
  rolling_window: 10
  x_axis_preference: ["step", "global_step", "iter", "update_step"]
  try_construct_step_from: ["epoch", "step_in_epoch"]
  best_metric_preference: ["macro_f1", "acc", "loss"]

plotting:
  # Use a perceptually uniform, colorblind-safe colormap for publication.
  colormap: viridis

outputs:
  write_schemas: true
  write_tables: true
  write_plots: true
  write_index_md: true

plots:
  # Public report mode: only emit the curated, presentation-quality plots.
  public_only: true
  # Use seaborn styling for public-facing plots.
  make_pretty: true
  # Allow extra debug plots (grad_norm, step_time, legacy metrics) when needed.
  include_debug_plots: false
  loss_train_vs_eval: true
  macro_f1_eval_log_vs_stop: true
  acc_eval_log_vs_stop: false
  # When false, eval_stop is plotted separately to avoid cluttering dense curves.
  combine_eval_log_and_stop: false
  per_class_f1_plots: false
  legacy_metrics_jsonl_plots: false

extras:
  read_best_last_metrics_json: true
  read_resolved_config_yaml: true
  read_summary_json: true
  read_data_manifest_json: true
  read_env_txt: true
